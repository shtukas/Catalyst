#!/usr/bin/ruby

# encoding: UTF-8

require_relative "../scr/Ruby/loader.rb"

# -------------------------------------------------------------------------

class ProgramVariant
    # ProgramVariant::id()
    def self.id()
        "catalyst"
    end
end

# ./shadowfs commit <location>
# ./shadowfs get SHA256-f4b2ac2b19168a141f573e1d1dd6585e172d905d8b9d470b400760a19de63263

if ARGV[0] == "commit" and ARGV[1] then
    location = ARGV[1]
    puts ShadowFS::commitLocationReturnHash(ShadowFSOperator.new(), location)
    exit
end

if ARGV[0] == "get" and ARGV[1] then
    nhash = ARGV[1]
    print ShadowFSOperator.new().readBlobErrorIfNotFound(nhash)
    exit
end


puts "./shadowfs commit <location>"
puts "./shadowfs get <nhash>"

exit
