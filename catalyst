#!/usr/bin/ruby

# encoding: UTF-8

require_relative "Libs/loader.rb"

# ----------------------------------------------------------------------------

def imports()
    LucilleCore::locationsAtFolder("/Users/pascal/Desktop/Nx50 Inbox").each{|location|
        #puts location
        Nx50s::importLocationAsNewAionPointNx50(location)
        LucilleCore::removeFileSystemLocation(location)
        sleep 1
    }

    system("#{File.dirname(__FILE__)}/../../vienna-import")

    Nx50s::maintenance()
end

Thread.new {
    loop {
        sleep 300
        imports()
    }
}

UIServices::catalystMainInterface()
