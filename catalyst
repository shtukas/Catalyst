#!/usr/bin/ruby

# encoding: UTF-8

require_relative "Libs/loader.rb"

# ----------------------------------------------------------------------------

def imports()
    LucilleCore::locationsAtFolder("/Users/pascal/Desktop/Nx50 Inbox").each{|location|
        break if Nx50s::isFull()
        puts location
        Nx50s::importLocationAsNewAionPointNx50(location)
        LucilleCore::removeFileSystemLocation(location)
        sleep 1
    }

    system("#{File.dirname(__FILE__)}/../../vienna-import")
end

imports()

Thread.new {
    loop {
        sleep 300
        imports()
    }
}

UIServices::catalystDisplayLoop()
