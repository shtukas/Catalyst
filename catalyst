#!/usr/bin/ruby

# encoding: UTF-8

require_relative "Libs/loader.rb"

# ----------------------------------------------------------------------------

Thread.new {
    loop {
        sleep 300

        LucilleCore::locationsAtFolder("/Users/pascal/Desktop/Quarks Inbox").each{|location|
            puts location
            Quarks::importLocationAsNewAionPointQuark(location)
            LucilleCore::removeFileSystemLocation(location)
            sleep 1
        }

        system("#{File.dirname(__FILE__)}/../../vienna-import")
    }
}

UIServices::catalystDisplayLoop()
